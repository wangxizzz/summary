## epoll非阻塞是如何提升redis的 tps ?
- redis作者说过，redis的瓶颈不在内存与cpu上，也不在单线程的处理速度上，而是在网络io 上，因此需要引入io多路复用机制。
- 网络io才是影响性能的瓶颈，如果采用多线程模型来处理成千上万的网络请求，我们的线程在读写就绪的过程中会大量阻塞，甚至导致redis服务不可用，而且还会有大量的线程切换带来的损耗，得不偿失。
- cpu运行的速度其实很快，一秒钟可以执行海量的redis命令，所以串行执行没有问题。问题时阻塞IO会浪费大量CPU时间，CPU在大量时间都是处于空闲状态的。
- 阻塞io并发需要多线程，多线程并发不了太多。非阻塞io采用一个线程就可以并发，比如自己去轮询io是否就绪，但是这样效率不高，因此采用io多路复用，让内核(epoll)告诉上层哪个io ready了。```非阻塞的概念：tcp流，报文可能不全，这个时候不应该继续等待这个报文全部到达，而是处理下一个fd，利用编解码技术来处理完整报文问题，不完整的等待下次epoll唤醒.```

## 