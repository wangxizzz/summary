## 多业务线接入自己系统时，怎样保证业务线流量互相影响？

## kafka如何降低消费延迟？
1. 提升单机消费能力，构建线程池异步，但是得权衡消息丢失情况。目前是单分区单线程消费
2. 提升分区数量，增多consumer的数量

## rocketMQ与kafka的选型？
1. kafak延迟较高：producer端批量发送，consumer基于pull。但是这样设计吞吐量非常高
2. rocketMQ基于push，实时性。

### kafka单分区一定保证顺序性？
不一定，极端情况下，由于网络延迟，A就会比B后达到。那么非要保证这种强顺序性：
1. 发送A后，等consumer端返回ack，才能发送B消息。（这种其实就是分布式异步转同步的解决方案），这样就可以严格保证顺序，但是吞吐量降低。

##