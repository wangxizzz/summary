# 四种动态生成class对象方法比较
## 在易用性方面：
- JDK代理是最简单方便的，只需要使用Proxy和InvocationHandler两个类，不过只能代理接口。
- 其次是CGLIB，也很方便，不过需要引入CGLIB的JAR包。
- ```Javassist需要用用字符串拼接Java源代码，稍微会比较繁琐。Javassist可以动态生成class对象```
- 最麻烦的是ASM，需要手工写字节码，一般人可能还写不出来。
- 在代理对象的创建速度上，JDK代理与ASM都很快，比最慢的CGLIB快20倍以上。

## 结论
从上面的分析结果来看，性能上各种方式的差距不算太大。
- 考虑到易用性，在对接口进行动态代理时，使用JDK代理应该是最合适的。
- 在不能使用JDK代理的情况下，可以考虑使用CGLIB或者Javassist。
- CGLIB的缺点是创建代理对象的速度慢，Javassist的缺点是需要手动编写Java源码。
- 如果非要在这个两个中选择一个，那么只有在对性能要求非常高的情况下选择Javassist，其他一般情况下，个人认为CGLIB是比较合适的。

